---
import type { GridStoryblok } from '@/types/storyblok';
import { parseStoryblokMaxWidth } from '@/utils/storyblok';
import { storyblokEditable } from '@storyblok/astro';
import StoryblokComponent from '@storyblok/astro/StoryblokComponent.astro';

interface AstroProps {
  blok: GridStoryblok;
}

const cols: Record<string, string> = {
  '1': 'grid-cols-1',
  '2': 'grid-cols-2',
  '3': 'grid-cols-3',
  '4': 'grid-cols-4',
  '5': 'grid-cols-5',
  '6': 'grid-cols-6',
  '7': 'grid-cols-7',
  '8': 'grid-cols-8',
  '9': 'grid-cols-9',
  '10': 'grid-cols-10',
  '11': 'grid-cols-11',
  '12': 'grid-cols-12',
};

const colsSm: Record<string, string> = {
  '1': 'sm:grid-cols-1',
  '2': 'sm:grid-cols-2',
  '3': 'sm:grid-cols-3',
  '4': 'sm:grid-cols-4',
  '5': 'sm:grid-cols-5',
  '6': 'sm:grid-cols-6',
  '7': 'sm:grid-cols-7',
  '8': 'sm:grid-cols-8',
  '9': 'sm:grid-cols-9',
  '10': 'sm:grid-cols-10',
  '11': 'sm:grid-cols-11',
  '12': 'sm:grid-cols-12',
};

const colsMd: Record<string, string> = {
  '1': 'md:grid-cols-1',
  '2': 'md:grid-cols-2',
  '3': 'md:grid-cols-3',
  '4': 'md:grid-cols-4',
  '5': 'md:grid-cols-5',
  '6': 'md:grid-cols-6',
  '7': 'md:grid-cols-7',
  '8': 'md:grid-cols-8',
  '9': 'md:grid-cols-9',
  '10': 'md:grid-cols-10',
  '11': 'md:grid-cols-11',
  '12': 'md:grid-cols-12',
};

const colsLg: Record<string, string> = {
  '1': 'lg:grid-cols-1',
  '2': 'lg:grid-cols-2',
  '3': 'lg:grid-cols-3',
  '4': 'lg:grid-cols-4',
  '5': 'lg:grid-cols-5',
  '6': 'lg:grid-cols-6',
  '7': 'lg:grid-cols-7',
  '8': 'lg:grid-cols-8',
  '9': 'lg:grid-cols-9',
  '10': 'lg:grid-cols-10',
  '11': 'lg:grid-cols-11',
  '12': 'lg:grid-cols-12',
};

const colsXl: Record<string, string> = {
  '1': 'xl:grid-cols-1',
  '2': 'xl:grid-cols-2',
  '3': 'xl:grid-cols-3',
  '4': 'xl:grid-cols-4',
  '5': 'xl:grid-cols-5',
  '6': 'xl:grid-cols-6',
  '7': 'xl:grid-cols-7',
  '8': 'xl:grid-cols-8',
  '9': 'xl:grid-cols-9',
  '10': 'xl:grid-cols-10',
  '11': 'xl:grid-cols-11',
  '12': 'xl:grid-cols-12',
};

const rows: Record<string, string> = {
  '1': 'grid-rows-1',
  '2': 'grid-rows-2',
  '3': 'grid-rows-3',
  '4': 'grid-rows-4',
  '5': 'grid-rows-5',
  '6': 'grid-rows-6',
  '7': 'grid-rows-7',
  '8': 'grid-rows-8',
  '9': 'grid-rows-9',
  '10': 'grid-rows-10',
  '11': 'grid-rows-11',
  '12': 'grid-rows-12',
};

const rowsMd: Record<string, string> = {
  '1': 'md:grid-rows-1',
  '2': 'md:grid-rows-2',
  '3': 'md:grid-rows-3',
  '4': 'md:grid-rows-4',
  '5': 'md:grid-rows-5',
  '6': 'md:grid-rows-6',
  '7': 'md:grid-rows-7',
  '8': 'md:grid-rows-8',
  '9': 'md:grid-rows-9',
  '10': 'md:grid-rows-10',
  '11': 'md:grid-rows-11',
  '12': 'md:grid-rows-12',
};

const rowsLg: Record<string, string> = {
  '1': 'lg:grid-rows-1',
  '2': 'lg:grid-rows-2',
  '3': 'lg:grid-rows-3',
  '4': 'lg:grid-rows-4',
  '5': 'lg:grid-rows-5',
  '6': 'lg:grid-rows-6',
  '7': 'lg:grid-rows-7',
  '8': 'lg:grid-rows-8',
  '9': 'lg:grid-rows-9',
  '10': 'lg:grid-rows-10',
  '11': 'lg:grid-rows-11',
  '12': 'lg:grid-rows-12',
};

const spaceX: Record<string, string> = {
  '1': 'gap-x-1',
  '2': 'gap-x-2',
  '3': 'gap-x-3',
  '4': 'gap-x-4',
  '5': 'gap-x-5',
  '6': 'gap-x-6',
  '7': 'gap-x-7',
  '8': 'gap-x-8',
  '9': 'gap-x-9',
  '10': 'gap-x-10',
  '12': 'gap-x-12',
  '14': 'gap-x-14',
  '16': 'gap-x-16',
  '20': 'gap-x-20',
};

const spaceXSm: Record<string, string> = {
  '1': 'sm:gap-x-1',
  '2': 'sm:gap-x-2',
  '3': 'sm:gap-x-3',
  '4': 'sm:gap-x-4',
  '5': 'sm:gap-x-5',
  '6': 'sm:gap-x-6',
  '7': 'sm:gap-x-7',
  '8': 'sm:gap-x-8',
  '9': 'sm:gap-x-9',
  '10': 'sm:gap-x-10',
  '12': 'sm:gap-x-12',
  '14': 'sm:gap-x-14',
  '16': 'sm:gap-x-16',
  '20': 'sm:gap-x-20',
};

const spaceXMd: Record<string, string> = {
  '1': 'md:gap-x-1',
  '2': 'md:gap-x-2',
  '3': 'md:gap-x-3',
  '4': 'md:gap-x-4',
  '5': 'md:gap-x-5',
  '6': 'md:gap-x-6',
  '7': 'md:gap-x-7',
  '8': 'md:gap-x-8',
  '9': 'md:gap-x-9',
  '10': 'md:gap-x-10',
  '12': 'md:gap-x-12',
  '14': 'md:gap-x-14',
  '16': 'md:gap-x-16',
  '20': 'md:gap-x-20',
};

const spaceXLg: Record<string, string> = {
  '1': 'lg:gap-x-1',
  '2': 'lg:gap-x-2',
  '3': 'lg:gap-x-3',
  '4': 'lg:gap-x-4',
  '5': 'lg:gap-x-5',
  '6': 'lg:gap-x-6',
  '7': 'lg:gap-x-7',
  '8': 'lg:gap-x-8',
  '9': 'lg:gap-x-9',
  '10': 'lg:gap-x-10',
  '12': 'lg:gap-x-12',
  '14': 'lg:gap-x-14',
  '16': 'lg:gap-x-16',
  '20': 'lg:gap-x-20',
};

const spaceY: Record<string, string> = {
  '1': 'gap-y-1',
  '2': 'gap-y-2',
  '3': 'gap-y-3',
  '4': 'gap-y-4',
  '5': 'gap-y-5',
  '6': 'gap-y-6',
  '7': 'gap-y-7',
  '8': 'gap-y-8',
  '9': 'gap-y-9',
  '10': 'gap-y-10',
  '12': 'gap-y-12',
  '14': 'gap-y-14',
  '16': 'gap-y-16',
  '20': 'gap-y-20',
};

const spaceYSm: Record<string, string> = {
  '1': 'sm:gap-y-1',
  '2': 'sm:gap-y-2',
  '3': 'sm:gap-y-3',
  '4': 'sm:gap-y-4',
  '5': 'sm:gap-y-5',
  '6': 'sm:gap-y-6',
  '7': 'sm:gap-y-7',
  '8': 'sm:gap-y-8',
  '9': 'sm:gap-y-9',
  '10': 'sm:gap-y-10',
  '12': 'sm:gap-y-12',
  '14': 'sm:gap-y-14',
  '16': 'sm:gap-y-16',
  '20': 'sm:gap-y-20',
};

const spaceYMd: Record<string, string> = {
  '1': 'md:gap-y-1',
  '2': 'md:gap-y-2',
  '3': 'md:gap-y-3',
  '4': 'md:gap-y-4',
  '5': 'md:gap-y-5',
  '6': 'md:gap-y-6',
  '7': 'md:gap-y-7',
  '8': 'md:gap-y-8',
  '9': 'md:gap-y-9',
  '10': 'md:gap-y-10',
  '12': 'md:gap-y-12',
  '14': 'md:gap-y-14',
  '16': 'md:gap-y-16',
  '20': 'md:gap-y-20',
};

const spaceYLg: Record<string, string> = {
  '1': 'lg:gap-y-1',
  '2': 'lg:gap-y-2',
  '3': 'lg:gap-y-3',
  '4': 'lg:gap-y-4',
  '5': 'lg:gap-y-5',
  '6': 'lg:gap-y-6',
  '7': 'lg:gap-y-7',
  '8': 'lg:gap-y-8',
  '9': 'lg:gap-y-9',
  '10': 'lg:gap-y-10',
  '12': 'lg:gap-y-12',
  '14': 'lg:gap-y-14',
  '16': 'lg:gap-y-16',
  '20': 'lg:gap-y-20',
};

const { blok } = Astro.props as AstroProps;

const Tag = blok.tag;
---

<Tag
  {...storyblokEditable(blok)}
  class:list={[
    'grid',
    'mx-auto',
    parseStoryblokMaxWidth(blok.maxWidth!),
    cols[blok.cols!],
    blok.cols !== blok.colsSm && colsSm[blok.colsSm!],
    blok.colsSm !== blok.colsMd && colsMd[blok.colsMd!],
    blok.colsMd !== blok.colsLg && colsLg[blok.colsLg!],
    blok.colsLg !== blok.colsXl && colsXl[blok.colsXl!],
    rows[blok.rows!],
    blok.rows !== blok.rowsMd && rowsMd[blok.rowsMd!],
    blok.rowsMd !== blok.rowsLg && rowsLg[blok.rowsLg!],
    spaceX[blok.spaceX!],
    blok.spaceX !== blok.spaceXSm && spaceXSm[blok.spaceXSm!],
    blok.spaceXSm !== blok.spaceXMd && spaceXMd[blok.spaceXMd!],
    blok.spaceXMd !== blok.spaceXLg && spaceXLg[blok.spaceXLg!],
    spaceY[blok.spaceY!],
    blok.spaceY !== blok.spaceYSm && spaceYSm[blok.spaceYSm!],
    blok.spaceYSm !== blok.spaceYMd && spaceYMd[blok.spaceYMd!],
    blok.spaceYMd !== blok.spaceYLg && spaceYLg[blok.spaceYLg!],
  ]}
>
  {blok.items?.map((item) => <StoryblokComponent blok={item} />)}
</Tag>
